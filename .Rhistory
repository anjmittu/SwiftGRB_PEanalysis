?read.table
read.table("newdata/test_sample_prior12_combined.txt", sep=" ")
table = read.table("newdata/test_sample_prior12_combined.txt", sep=" ")
View(table)
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
library(rvest)
library(dplyr)
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
library(rvest)
library(dplyr)
library(magrittr)
library(tibble)
library(dplyr)
library(tidyr)
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
View(data_table)
library(ggplot2)
data_table %>%
ggplot(aes(x=z, y=log_L)) +
geom_point()
data_table %>%
ggplot(aes(x=z)) +
geom_point()
data_table %>%
ggplot(aes(x=z, y=trigger_index)) +
geom_point()
library(rvest)
library(dplyr)
library(magrittr)
library(tibble)
library(dplyr)
library(tidyr)
library(ggplot2)
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
data_table %>%
ggplot(aes(x=z, y=trigger_index)) +
geom_point()
data_table[0,1]
data_table[,1]
data_table[10,1]
data_table[0::10000,]
data_table[0:10000,]
data_table <- data_table[0:10000,]
View(data_table)
data_table %>%
ggplot(aes(x=z, y=trigger_index)) +
geom_point()
data_table %>%
ggplot(aes(x=z, y=log_L)) +
geom_point()
plot(data_table$z)
plot(sort(data_table$z))
hist(data_table$z)
data_table %>%
ggplot(aes(x=z, y=log_L, color=trigger_index)) +
geom_point()
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
data_table <- data_table[0:10000,]
data_table %>%
ggplot(aes(x=z, y=log_L, color=trigger_index)) +
geom_point()
hist(data_table$z)
library(rvest)
library(dplyr)
library(magrittr)
library(tibble)
library(dplyr)
library(tidyr)
library(ggplot2)
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
data_table <- data_table[0:10000,]
data_table %>%
ggplot(aes(x=z, y=log_L, color=trigger_index)) +
geom_point()
hist(data_table$z)
library(rvest)
library(dplyr)
library(magrittr)
library(tibble)
library(dplyr)
library(tidyr)
library(ggplot2)
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
library(rvest)
library(dplyr)
library(tidyr)
library(ggplot2)
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25keV", "bgd_15-50keV", "bgd25-100keV", "bgd50-350keV",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
data_table[1,]
data_table[10001,]
data_table[0,]
View(data_table)
data_table$trigger_index <- factor(data_table$trigger_index)
library(randomForest)
?randomForest
data_table %>%
select(log_L, z, bin_size_emit, alpha, beta, grid_id, E_peak,
bgd_15-25keV, bgd_15-50keV, bgd25-100keV, bgd50-350keV, theta, flux, ndet) %>%
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15-25", "bgd_15-50", "bgd25-100", "bgd50-350",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
data_table$trigger_index <- factor(data_table$trigger_index)
data_table %>%
select(log_L, z, bin_size_emit, alpha, beta, grid_id, E_peak,
bgd_15-25, bgd_15-50, bgd25-100, bgd50-350, theta, flux, ndet) %>%
tune.randomForest(data_table$trigger_index, mtry=5, ntree=500)
data_table <- read.table("newdata/test_sample_prior12_combined.txt", sep=" ") %>%
set_colnames(c("filename", "log_L", "z", "grid_id", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15_25", "bgd_15_50", "bgd25_100", "bgd50_350",
"theta", "flux", "burst_shape", "ndet", "rate_GRB_0_global",
"z1_global", "n1_global", "n2_global", "lum_star_global",
"x_global", "y_global", "Epeak_type", "Lum_evo_type", "trigger_index"))
data_table$trigger_index <- factor(data_table$trigger_index)
data_table %>%
select(log_L, z, bin_size_emit, alpha, beta, grid_id, E_peak,
bgd_15_25, bgd_15_50, bgd25_100, bgd50_350, theta, flux, ndet) %>%
tune.randomForest(data_table$trigger_index, mtry=5, ntree=500)
library(randomForest)
library(e1071)
library(inTrees)
data_table %>%
select(log_L, z, bin_size_emit, alpha, beta, grid_id, E_peak,
bgd_15_25, bgd_15_50, bgd25_100, bgd50_350, theta, flux, ndet) %>%
tune.randomForest(data_table$trigger_index, mtry=5, ntree=500)
GRB_rf <- randomForest(trigger_index~log_L, z, bin_size_emit, alpha, beta, grid_id,
E_peak,bgd_15_25, bgd_15_50, bgd25_100, bgd50_350,
theta, flux, ndet, importance=TRUE, mtry=5, data=data_table,
ntree=500)
GRB_rf <- randomForest(trigger_index~log_L+z+bin_size_emit+alpha+beta+grid_id+
E_peak,bgd_15_25+bgd_15_50+bgd25_100+bgd50_350+
theta+flux+ndet, importance=TRUE, mtry=5, data=data_table,
ntree=500)
GRB_rf <- randomForest(trigger_index~log_L+z+bin_size_emit+alpha+beta+grid_id+
E_peak+bgd_15_25+bgd_15_50+bgd25_100+bgd50_350+
theta+flux+ndet, importance=TRUE, mtry=5, data=data_table,
ntree=500)
?set_colnames
GRB_rf <- readRDS(GRB.rds)
saveRDS(GRB_rf, file = "GRB.rds")
GRB_rf <- readRDS("GRB.rds")
data = read.table("population_data_19.txt", sep=" ") %>%
set_colnames(c("log_L", "z", "r", "phi", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15_25", "bgd_15_50", "bgd25_100", "bgd50_350",
"theta", "flux", "ndet"))
rf_pred <- predict(GRB_rf, newdata=data)
data = read.table("population_data_19.txt", sep=" ") %>%
set_colnames(c("log_L", "z", "grid_id", "phi", "bin_size_emit",
"alpha", "beta", "E_peak", "background_name",
"bgd_15_25", "bgd_15_50", "bgd25_100", "bgd50_350",
"theta", "flux", "ndet"))
rf_pred <- predict(GRB_rf, newdata=data)
rf_pred
rf_pred <- predict(GRB_rf[1,], newdata=data)
rf_pred <- predict(GRB_rf, newdata=data[1,])
rf_pred <- predict(GRB_rf, newdata=data[1,], na.action = na.roughfix )
View(data)
data = read.table("population_data_19.txt", sep=" ") %>%
set_colnames(c("log_L", "z", "grid_id", "phi", "bin_size_emit",
"alpha", "beta", "E_peak", "bgd_15_25",
"bgd_15_50", "bgd25_100", "bgd50_350",
"theta", "flux", "ndet"))
rf_pred <- predict(GRB_rf, newdata=data[1,])
rf_pred <- predict(GRB_rf, newdata=data)
rf_pred
GRB_rf <- randomForest(trigger_index~log_L+z+bin_size_emit+alpha+beta+
E_peak+bgd_15_25+bgd_15_50+bgd25_100+bgd50_350+
theta+flux+ndet, importance=TRUE, mtry=5, data=data_table,
ntree=500)
rf_pred <- predict(GRB_rf, newdata=select(data, log_L, z, phi, bin_size_emit,
alpha, beta, E_peak, bgd_15_25,
bgd_15_50, bgd25_100, bgd50_350,
theta, flux, ndet))
rf_pred
summary(rf_pred)
rf_pred <- predict(GRB_rf, newdata=data)
